<div class="wallet-actions">
  <!-- Estado: Desconectado -->
  <button 
    *ngIf="!isConnected && !isConnecting" 
    (click)="connect()" 
    class="wallet-btn wallet-btn-connect">
    🔗 Conectar HashPack/Kabila
  </button>

  <!-- Estado: Conectando -->
  <button 
    *ngIf="isConnecting" 
    disabled 
    class="wallet-btn wallet-btn-connecting">
    🔄 Conectando...
  </button>

  <!-- Estado: Conectado -->
  <div *ngIf="isConnected" class="wallet-connected">
    <div class="wallet-info-horizontal">
      <!-- Nombre de wallet e ID -->
      <span class="wallet-name">{{ walletName }}:</span>
      <span class="wallet-id">{{ walletAddress }}</span>
      
      <!-- Balance -->
      <span class="balance-label">Balance:</span>
      <span class="balance-value">{{ balance || 'Cargando...' }} HBAR</span>
      
      <!-- Icono de conectado -->
      <span class="connected-icon">✅</span>
      
      <!-- Botón refresh -->
      <button 
        (click)="refreshBalance()" 
        class="action-btn refresh-btn"
        title="Actualizar balance">
        🔄
      </button>
      
      <!-- Botón desconectar -->
      <button 
        (click)="disconnect()" 
        class="action-btn disconnect-btn"
        title="Desconectar wallet">
        ❌
      </button>
    </div>
  </div>

  <!-- Mostrar errores si los hay -->
  <div *ngIf="error" class="wallet-error">
    ⚠️ {{ error }}
  </div>

  <!-- Debug temporal -->
  <div style="margin-top: 0.5rem; font-size: 0.75rem; color: #999; display: flex; gap: 0.5rem; align-items: center;">
    <span>Debug: Conectando={{isConnecting}} | Conectado={{isConnected}} | Dir={{walletAddress}}</span>
    <button 
      (click)="forceStateUpdate()" 
      style="padding: 0.25rem 0.5rem; background: #ff6b6b; color: white; border: none; border-radius: 0.25rem; font-size: 0.7rem;">
      Fix State
    </button>
  </div>

</div>

